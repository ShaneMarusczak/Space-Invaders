var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,b){if(b.get||b.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[d]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,d,b,c){if(d){b=$jscomp.global;a=a.split(".");for(c=0;c<a.length-1;c++){var e=a[c];e in b||(b[e]={});b=b[e]}a=a[a.length-1];c=b[a];d=d(c);d!=c&&null!=d&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(a,b,c){var e=this.length||0;0>b&&(b=Math.max(0,e+b));if(null==c||c>e)c=e;c=Number(c);0>c&&(c=Math.max(0,e+c));for(b=Number(b||0);b<c;b++)this[b]=a;return this}},"es6-impl","es3");
for(var maxFireworks=5,maxSparks=50,canvas=document.getElementById("myCanvas"),context=canvas.getContext("2d"),fireworks=[],i=0;i<maxFireworks;i++){for(var firework={sparks:[]},n=0;n<maxSparks;n++){var spark={blue:Math.floor(2*Math.random()),green:Math.floor(2*Math.random()),red:Math.floor(2*Math.random()),vx:5*Math.random()+.5,vy:5*Math.random()+.5,weight:.3*Math.random()+.03};.5<Math.random()&&(spark.vx=-spark.vx);.5<Math.random()&&(spark.vy=-spark.vy);firework.sparks.push(spark)}fireworks.push(firework);
resetFirework(firework)}window.requestAnimationFrame(explode);function resetFirework(a){a.x=Math.floor(Math.random()*canvas.width);a.y=canvas.height;a.age=0;a.phase="fly"}
function explode(){context.clearRect(0,0,canvas.width,canvas.height);fireworks.forEach(function(a,d){if("explode"==a.phase)a.sparks.forEach(function(b){for(var c=0;10>c;c++){var d=a.age+c,g=a.x+b.vx*d,d=a.y+b.vy*d+b.weight*d*b.weight*d,f=20*c-2*a.age,h=Math.floor(b.red*f),k=Math.floor(b.green*f),f=Math.floor(b.blue*f);context.beginPath();context.fillStyle="rgba("+h+","+k+","+f+",1)";context.rect(g,d,4,4);context.fill()}}),a.age++,100<a.age&&.05>Math.random()&&resetFirework(a);else{a.y-=10;for(var b=
0;15>b;b++)context.beginPath(),context.fillStyle="rgba("+50*d+","+17*b+",0,1)",context.rect(a.x+Math.random()*b-b/2,a.y+4*b,4,4),context.fill();if(.001>Math.random()||200>a.y)a.phase="explode"}});window.requestAnimationFrame(explode)};
