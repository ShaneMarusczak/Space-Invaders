"use strict";(()=>{let gameStarted=!0,gameOver=!1,numberOfEnemies=0,destroyedEnemies=0;const height=25;function alertModalControl(message,duration){document.getElementById("alertshader").style.display="block",document.getElementById("alertmessage").innerText=message,sleep(duration).then(()=>{document.getElementById("alertshader").style.display="none"})}function sleep(ms){return new Promise(resolve=>setTimeout(resolve,ms))}function shipControl(e){if(!gameOver){const ship=document.getElementById("ship"),posLeft=ship.offsetLeft-document.getElementById("gameBoard").offsetLeft-1;if("37"==e.keyCode&&posLeft-25>=0)ship.style.marginLeft=posLeft-25+"px",e.preventDefault();else if("39"==e.keyCode&&posLeft+25<=document.getElementById("gameBoard").offsetWidth-100)ship.style.marginLeft=posLeft+25+"px",e.preventDefault();else if("32"==e.keyCode){const laser=document.createElement("div");laser.classList.add("laser"),laser.style.left=ship.offsetLeft+50+"px",laser.style.top=ship.offsetTop-30+"px",ship.appendChild(laser),fireLaser(laser,ship),e.preventDefault()}}}function colides(x1,y1,w1,h1,x2,y2,w2,h2){return!(x2>w1+x1||x1>w2+x2||y2>h1+y1||y1>h2+y2)}function gameOverHandler(){gameOver=!0,alertModalControl("Game Over!",2e3)}function fireLaser(laser,ship){const interval=200,iterations=28;for(let i=0;i<28;i++)sleep(200*i).then(()=>{laser.style.top=ship.offsetTop-50-25*i+"px",Array.from(document.getElementsByClassName("enemyShip")).forEach(es=>{colides(es.offsetLeft,es.offsetTop,es.offsetWidth,es.offsetHeight,laser.offsetLeft,laser.offsetTop,laser.offsetWidth,laser.offsetHeight)&&(laser.remove(),es.remove(),destroyedEnemies++,destroyedEnemies===numberOfEnemies&&gameOverHandler())})});sleep(5600).then(()=>laser.remove())}(()=>{for(let i=1;i<5;i++)for(let j=1;j<8;j++){const enemyShip=document.createElement("div");enemyShip.classList.add("enemyShip"),enemyShip.style.top=50*i+"px",enemyShip.style.left=j*window.innerWidth*.065+document.getElementById("gameBoard").offsetLeft+"px",document.getElementById("enemies").appendChild(enemyShip),numberOfEnemies++}document.addEventListener("keydown",shipControl)})()})();